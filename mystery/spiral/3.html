<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Murder Mystery Spiral 3: The CoIn Conspiracy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 2px solid #444;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        .header h1 {
            font-size: 2.5em;
            color: #ff6b6b;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            color: #999;
        }
        
        .evidence-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .tab-button {
            padding: 15px 30px;
            background: rgba(255, 107, 107, 0.1);
            border: 2px solid #ff6b6b;
            color: #ff6b6b;
            cursor: pointer;
            font-size: 1.1em;
            border-radius: 5px;
            transition: all 0.3s;
            font-family: 'Courier New', monospace;
        }
        
        .tab-button:hover {
            background: rgba(255, 107, 107, 0.2);
            transform: translateY(-2px);
        }
        
        .tab-button.active {
            background: #ff6b6b;
            color: #1a1a2e;
            font-weight: bold;
        }
        
        .evidence-content {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .evidence-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .document {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #444;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .document h2 {
            color: #4ecdc4;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #444;
        }
        
        .document h3 {
            color: #f7b731;
            margin: 20px 0 15px 0;
        }
        
        .calculation-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #666;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .calculation-box input {
            background: #2a2a3a;
            border: 1px solid #666;
            color: #fff;
            padding: 8px 12px;
            margin: 5px;
            border-radius: 3px;
            width: 120px;
            font-family: 'Courier New', monospace;
        }
        
        .calculation-box button {
            background: #4ecdc4;
            color: #1a1a2e;
            border: none;
            padding: 10px 20px;
            margin: 10px 5px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .calculation-box button:hover {
            background: #3aa8a0;
            transform: translateY(-2px);
        }
        
        .result {
            margin-top: 15px;
            padding: 15px;
            background: rgba(78, 205, 196, 0.1);
            border-left: 3px solid #4ecdc4;
            border-radius: 3px;
        }
        
        .warning {
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid #ff6b6b;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .formula {
            font-family: 'Courier New', monospace;
            background: rgba(255, 255, 255, 0.05);
            padding: 2px 6px;
            border-radius: 3px;
        }
        
        .quiz-question {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            border: 1px solid #444;
        }
        
        .quiz-question h4 {
            color: #f7b731;
            margin-bottom: 10px;
        }
        
        .hidden {
            display: none;
        }
        
        .reveal-button {
            background: #f7b731;
            color: #1a1a2e;
            border: none;
            padding: 10px 20px;
            margin: 10px 0;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .reveal-button:hover {
            background: #e5a622;
        }
        
        .cipher-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
            gap: 5px;
            margin: 20px 0;
            max-width: 600px;
        }
        
        .cipher-cell {
            background: #2a2a3a;
            border: 1px solid #666;
            padding: 10px;
            text-align: center;
            border-radius: 3px;
        }
        
        .conversation-entry {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            margin: 15px 0;
            border-left: 3px solid #666;
        }
        
        .conversation-entry.gruet {
            border-left-color: #4ecdc4;
        }
        
        .conversation-entry.radan {
            border-left-color: #f7b731;
        }
        
        .final-comparison {
            background: rgba(255, 107, 107, 0.1);
            padding: 20px;
            margin: 30px 0;
            border-radius: 10px;
            border: 2px solid #ff6b6b;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî¨ Murder Mystery Spiral 3 üîç</h1>
            <p>The CoIn Conspiracy - Evidence Analysis</p>
        </div>
        
        <div class="evidence-tabs">
            <button class="tab-button active" onclick="showTab('patent')">Cache 1: Patent vs. Leaked Data</button>
            <button class="tab-button" onclick="showTab('cipher')">Cache 2: Thermochemical Cipher Quiz</button>
            <button class="tab-button" onclick="showTab('notebook')">Cache 3: Gruet-Radan Notebook</button>
        </div>
        
        <!-- Cache 1: Patent Comparison -->
        <div id="patent" class="evidence-content active">
            <div class="document">
                <h2>Evidence Cache 1: Patent vs. Leaked Radan Data</h2>
                <p style="color: #999; margin-bottom: 20px;">Compare the energy signatures to uncover the truth</p>
                
                <h3>USPTO Patent #2024-098847 - CoIn's Filed Patent</h3>
                <p>Filed by: Molecular Preservation LLC<br>
                Inventors: K.M. Gruet, P.L. Voss</p>
                
                <div class="calculation-box">
                    <h4>Reaction A: Initial Decarboxylation</h4>
                    <p>Starting with 0.125 mol of C‚ÇÅ‚ÇÑH‚ÇÅ‚ÇàN‚ÇÇO‚ÇÑ</p>
                    <p class="formula">C‚ÇÅ‚ÇÑH‚ÇÅ‚ÇàN‚ÇÇO‚ÇÑ ‚Üí C‚ÇÅ‚ÇÉH‚ÇÅ‚ÇàN‚ÇÇO‚ÇÇ + CO‚ÇÇ</p>
                    <p>ŒîH¬∞ = -1022.4 kJ/mol</p>
                    <input type="number" id="patent-a" placeholder="Heat (kJ)" step="0.01">
                    <button onclick="checkPatentA()">Check</button>
                    <div id="patent-a-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Reaction B: Intermediate Stabilization</h4>
                    <p>Using 0.450 mol of C‚ÇÅ‚ÇÉH‚ÇÅ‚ÇàN‚ÇÇO‚ÇÇ</p>
                    <p class="formula">C‚ÇÅ‚ÇÉH‚ÇÅ‚ÇàN‚ÇÇO‚ÇÇ + H‚ÇÇO ‚Üí C‚ÇÅ‚ÇÉH‚ÇÇ‚ÇÄN‚ÇÇO‚ÇÉ</p>
                    <p>ŒîH¬∞ = -198.7 kJ/mol</p>
                    <input type="number" id="patent-b" placeholder="Heat (kJ)" step="0.01">
                    <button onclick="checkPatentB()">Check</button>
                    <div id="patent-b-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Reaction C: Final Enhancement</h4>
                    <p>Processing 0.1600 mol of C‚ÇÅ‚ÇÉH‚ÇÇ‚ÇÄN‚ÇÇO‚ÇÉ</p>
                    <p class="formula">2 C‚ÇÅ‚ÇÉH‚ÇÇ‚ÇÄN‚ÇÇO‚ÇÉ ‚Üí C‚ÇÇ‚ÇÜH‚ÇÉ‚ÇàN‚ÇÑO‚ÇÖ + H‚ÇÇO</p>
                    <p>ŒîH¬∞ = -2691.3 kJ per mol of product (Note: 2 mol reactant ‚Üí 1 mol product)</p>
                    <input type="number" id="patent-c" placeholder="Heat (kJ)" step="0.01">
                    <button onclick="checkPatentC()">Check</button>
                    <div id="patent-c-result"></div>
                </div>
                
                <h3>Vlad's Leaked Radan Laboratory Data</h3>
                <p style="color: #999;">D.K. Radan's Original Synthesis Notes</p>
                
                <div class="calculation-box">
                    <h4>Step 1: Oxidation Protocol</h4>
                    <p>Sample size: 0.0750 mol C‚ÇàH‚ÇÅ‚ÇÇN‚ÇÑ</p>
                    <p class="formula">C‚ÇàH‚ÇÅ‚ÇÇN‚ÇÑ + 3 O‚ÇÇ ‚Üí C‚ÇàH‚ÇÅ‚ÇÇN‚ÇÑO‚ÇÜ</p>
                    <p>ŒîH¬∞ = -5766.7 kJ/mol</p>
                    <input type="number" id="radan-1" placeholder="Energy (kJ)" step="0.01">
                    <button onclick="checkRadan1()">Check</button>
                    <div id="radan-1-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Step 2: Molecular Rearrangement</h4>
                    <p>Processing 0.340 mol of oxidized product</p>
                    <p class="formula">C‚ÇàH‚ÇÅ‚ÇÇN‚ÇÑO‚ÇÜ ‚Üí C‚ÇÜH‚ÇàN‚ÇÑO‚ÇÑ + C‚ÇÇH‚ÇÑO‚ÇÇ</p>
                    <p>ŒîH¬∞ = +878.5 kJ/mol</p>
                    <input type="number" id="radan-2" placeholder="Energy (kJ)" step="0.01">
                    <button onclick="checkRadan2()">Check</button>
                    <div id="radan-2-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Step 3: Bioactivation</h4>
                    <p>Final step with 0.185 mol C‚ÇÜH‚ÇàN‚ÇÑO‚ÇÑ</p>
                    <p class="formula">C‚ÇÜH‚ÇàN‚ÇÑO‚ÇÑ + C‚ÇáH‚ÇÅ‚ÇÑO ‚Üí C‚ÇÅ‚ÇÉH‚ÇÇ‚ÇÄN‚ÇÑO‚ÇÖ + H‚ÇÇ</p>
                    <p>ŒîH¬∞ = -1614.6 kJ/mol</p>
                    <input type="number" id="radan-3" placeholder="Energy (kJ)" step="0.01">
                    <button onclick="checkRadan3()">Check</button>
                    <div id="radan-3-result"></div>
                </div>
                
                <div class="final-comparison">
                    <h3>üîç Investigation Task: Compare Total Energy Signatures</h3>
                    <div class="comparison-grid">
                        <div>
                            <h4>Patent Total:</h4>
                            <input type="number" id="patent-total" placeholder="Total kJ" step="0.01">
                            <button onclick="checkPatentTotal()">Check Total</button>
                            <div id="patent-total-result"></div>
                        </div>
                        <div>
                            <h4>Radan's Total:</h4>
                            <input type="number" id="radan-total" placeholder="Total kJ" step="0.01">
                            <button onclick="checkRadanTotal()">Check Total</button>
                            <div id="radan-total-result"></div>
                        </div>
                    </div>
                    <div class="warning" style="margin-top: 20px;">
                        <p><strong>Instructions for Analysis:</strong></p>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>Calculate the total energy for each process</li>
                            <li>Compare the two totals (consider magnitude)</li>
                            <li>Ask yourself: What does it mean if two "different" processes have identical thermochemical signatures?</li>
                            <li>Consider: Could this be coincidence, or evidence of something else?</li>
                            <li>Draw your conclusion about the relationship between CoIn's patent and Radan's original work</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cache 2: Cipher Quiz -->
        <div id="cipher" class="evidence-content">
            <div class="document">
                <h2>Evidence Cache 2: Thermochemical Cipher Quiz</h2>
                <p style="color: #999; margin-bottom: 20px;">13 Questions - Build Your A-Z Cipher Key</p>
                
                <div class="warning">
                    <p><strong>Instructions:</strong> Solve each problem and round to 2 decimals in kJ. Your answer x.yy kJ gives two positions to count in the question text (letters only): the whole number and decimal positions.</p>
                </div>
                
                <div class="quiz-question">
                    <h4>Q1 - Calorimetry (water warm-up)</h4>
                    <p>A 50.0 g water sample warms from 22.0 ¬∞C to 27.45 ¬∞C in a coffee-cup calorimeter. Compute the heat absorbed by the water, in kJ. ((c_water=4.184 J g^{-1}¬∞C^{-1}))</p>
                    <input type="number" id="q1-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ1()">Check</button>
                    <div id="q1-result"></div>
                    <div class="hidden" id="q1-mapping">Maps positions 1 & 14</div>
                </div>
                
                <div class="quiz-question">
                    <h4>Q2 - Neutralization pulse</h4>
                    <p>Mix 25.0 mL of 1.00 M HCl with 25.0 mL of 1.00 M NaOH at 22.0 ¬∞C; the solution reaches 24.9 ¬∞C. Assume total mass 50.0 g and (c_soln‚âà 4.184 J g^{-1}¬∞C^{-1}). Report the magnitude of (q) in kJ.</p>
                    <input type="number" id="q2-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ2()">Check</button>
                    <div id="q2-result"></div>
                    <div class="hidden" id="q2-mapping">Maps positions 2 & 15</div>
                </div>
                
                <div class="quiz-question">
                    <h4>Q3 - Combustion (scaled)</h4>
                    <p>When 0.0500 mol of methane combusts at constant pressure ((ŒîH¬∞ = -890 kJ mol^{-1})), what is the magnitude of the heat released, in kJ?</p>
                    <input type="number" id="q3-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ3()">Check</button>
                    <div id="q3-result"></div>
                    <div class="hidden" id="q3-mapping">Maps positions 3 & 16</div>
                </div>
                
                <div class="quiz-question">
                    <h4>Q4 - Metal into water</h4>
                    <p>A 150.0 g iron rod ((c=0.449 J g^{-1}¬∞C^{-1})) at 95.0 ¬∞C is placed in 100.0 g of water at 22.0 ¬∞C. Final temperature is 26.0 ¬∞C. Compute the magnitude of heat gained by the water, in kJ.</p>
                    <input type="number" id="q4-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ4()">Check</button>
                    <div id="q4-result"></div>
                    <div class="hidden" id="q4-mapping">Maps positions 4 & 17</div>
                </div>
                
                <div class="quiz-question">
                    <h4>Q5 - Coffee-cup reaction (estimate using mol √ó ŒîH)</h4>
                    <p>Neutralization of strong acid/base releases (‚âà 57.3 kJ mol^{-1}). If 0.0900 mol reacts, what heat (magnitude, kJ) is released?</p>
                    <input type="number" id="q5-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ5()">Check</button>
                    <div id="q5-result"></div>
                    <div class="hidden" id="q5-mapping">Maps positions 5 & 18</div>
                </div>
                
                <div class="quiz-question">
                    <h4>Q6 - q = mcŒîT (bigger ŒîT)</h4>
                    <p>A 75.0 g water sample warms by 19.7 ¬∞C. Compute (q) in kJ. ((c=4.184 J g^{-1}¬∞C^{-1}))</p>
                    <input type="number" id="q6-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ6()">Check</button>
                    <div id="q6-result"></div>
                    <div class="hidden" id="q6-mapping">Maps positions 6 & 19</div>
                </div>

                <div class="quiz-question">
                    <h4>Q7 - Stoichiometry ‚Üí ŒîH</h4>
                    <p>Complete combustion of ethanol has (ŒîH¬∞=-1367 kJ mol^{-1}). For 0.00513 mol ethanol, report |q| in kJ.</p>
                    <input type="number" id="q7-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ7()">Check</button>
                    <div id="q7-result"></div>
                    <div class="hidden" id="q7-mapping">Maps positions 7 & 20</div>
                </div>

                <div class="quiz-question">
                    <h4>Q8 - Endothermic dissolve (cold pack)</h4>
                    <p>Dissolving ammonium nitrate absorbs heat from 200.0 g of water; temperature drops by 9.8 ¬∞C. Find |q| for the water (kJ). ((c=4.184))</p>
                    <input type="number" id="q8-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ8()">Check</button>
                    <div id="q8-result"></div>
                    <div class="hidden" id="q8-mapping">Maps positions 8 & 21</div>
                </div>

                <div class="quiz-question">
                    <h4>Q9 - Two-step heating (same water)</h4>
                    <p>A 100.0 g water sample is warmed in two stages, total (ŒîT = 21.0 ¬∞C). Compute the total (q) in kJ.</p>
                    <input type="number" id="q9-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ9()">Check</button>
                    <div id="q9-result"></div>
                    <div class="hidden" id="q9-mapping">Maps positions 9 & 22</div>
                </div>

                <div class="quiz-question">
                    <h4>Q10 - Neutralization (larger extent)</h4>
                    <p>Strong acid‚Äìbase neutralization releases (57.3 kJ mol^{-1}). If 0.181 mol reacts, report |q| in kJ.</p>
                    <input type="number" id="q10-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ10()">Check</button>
                    <div id="q10-result"></div>
                    <div class="hidden" id="q10-mapping">Maps positions 10 & 23</div>
                </div>

                <div class="quiz-question">
                    <h4>Q11 - Bomb-cal style (water + jacket only)</h4>
                    <p>A burn raises 262.5 g of water from 22.0 ¬∞C to 31.1 ¬∞C in a sealed jacket (ignore bomb; water only). Compute (q) in kJ.</p>
                    <input type="number" id="q11-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ11()">Check</button>
                    <div id="q11-result"></div>
                    <div class="hidden" id="q11-mapping">Maps positions 11 & 24</div>
                </div>

                <div class="quiz-question">
                    <h4>Q12 - Hess's Law (additive)</h4>
                    <p>Given:<br>
                    (1) ( A ‚Üí B), ( ŒîH_1 = +6.50 kJ)<br>
                    (2) ( B ‚Üí C), ( ŒîH_2 = +5.75 kJ)<br>
                    Find ( ŒîH ) for ( A ‚Üí C ) (kJ).</p>
                    <input type="number" id="q12-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ12()">Check</button>
                    <div id="q12-result"></div>
                    <div class="hidden" id="q12-mapping">Maps positions 12 & 25</div>
                </div>

                <div class="quiz-question">
                    <h4>Q13 - Formation combo (simple ŒîH sum)</h4>
                    <p>Using tabulated (ŒîH_f¬∞) values in your text (or given by instructor), the reaction extent chosen yields a net magnitude of (13.26 kJ). State that value in kJ as the cipher number for this problem.</p>
                    <input type="number" id="q13-answer" placeholder="Answer in kJ" step="0.01">
                    <button onclick="checkQ13()">Check</button>
                    <div id="q13-result"></div>
                    <div class="hidden" id="q13-mapping">Maps positions 13 & 26</div>
                </div>
                
                <button class="reveal-button" onclick="showInstructions()">Show Cipher Instructions</button>
                <div id="cipher-instructions" class="hidden">
                    <div class="warning">
                        <h3>How to Build Your Cipher Key</h3>
                        <p>Once you have all 13 answers:</p>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>For each question, your answer gives you two numbers (whole and decimal)</li>
                            <li>Count letters in that question's text (skip spaces, punctuation, numbers)</li>
                            <li>Map the letter at position [whole number] and position [decimal] to your cipher</li>
                            <li>Example: If Q1 answer is 1.14, count to the 1st and 14th letters in Q1's text</li>
                            <li>Build your complete A-Z mapping table</li>
                            <li>Use this to decode the hidden messages in the lab notebook!</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cache 3: Lab Notebook -->
        <div id="notebook" class="evidence-content">
            <div class="document">
                <h2>Evidence Cache 3: Gruet-Radan Laboratory Notebook</h2>
                <p style="color: #999; margin-bottom: 20px;">Decode the hidden conversation between K. Gruet and D.K. Radan</p>
                
                <div class="warning">
                    <p><strong>Context:</strong> Found in D.K. Radan's office after his death on September 15, 2024. Contains thermochemistry calculations with embedded cipher messages.</p>
                </div>
                
                <h3>Entry 1 - September 5, 2024</h3>
                <div class="calculation-box">
                    <h4>Neutralization Thermodynamics Study (K.G.)</h4>
                    <p>19.46 g HCl reacts completely with excess NaOH</p>
                    <p class="formula">HCl + NaOH ‚Üí NaCl + H‚ÇÇO</p>
                    <p>Molar mass HCl = 36.46 g/mol</p>
                    <input type="number" id="entry1-mol" placeholder="Moles HCl" step="0.001">
                    <button onclick="checkEntry1Mol()">Check Moles</button>
                    <div id="entry1-mol-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Heat Release Measurement (D.K.R.)</h4>
                    <p>200.0 g solution increases from 22.0¬∞C to 29.35¬∞C</p>
                    <p>c_solution = 4.184 J/g¬∞C</p>
                    <input type="number" id="entry1-heat" placeholder="Heat (kJ)" step="0.01">
                    <button onclick="checkEntry1Heat()">Check Heat</button>
                    <div id="entry1-heat-result"></div>
                </div>
                
                <div class="conversation-entry gruet hidden" id="conv1">
                    <p><strong>Gruet ‚Üí Radan:</strong> "SAFE LAB HERE"</p>
                    <p><strong>Radan ‚Üí Gruet:</strong> "NEED HELP NOW"</p>
                    <p style="color: #999; margin-top: 10px;">Context: First contact. Gruet offers CoIn's secure facility. Radan admits he's in trouble.</p>
                </div>
                
                <h3>Entry 2 - September 8, 2024</h3>
                <div class="calculation-box">
                    <h4>Combustion Analysis (K.G.)</h4>
                    <p>1.84 g C‚ÇÇH‚ÇÖOH undergoes complete combustion</p>
                    <p class="formula">C‚ÇÇH‚ÇÖOH + 3O‚ÇÇ ‚Üí 2CO‚ÇÇ + 3H‚ÇÇO</p>
                    <p>Molar mass C‚ÇÇH‚ÇÖOH = 46.07 g/mol</p>
                    <input type="number" id="entry2-mol" placeholder="Moles ethanol" step="0.001">
                    <button onclick="checkEntry2Mol()">Check Moles</button>
                    <div id="entry2-mol-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Hess's Law Application (D.K.R.)</h4>
                    <p>Alternative pathway analysis:</p>
                    <p>Step 1: C‚ÇÇH‚ÇÖOH ‚Üí CH‚ÇÉCHO + H‚ÇÇ  ŒîH‚ÇÅ = +84.2 kJ</p>
                    <p>Step 2: CH‚ÇÉCHO + O‚ÇÇ ‚Üí products  ŒîH‚ÇÇ = -197.3 kJ</p>
                    <p>Step 3: H‚ÇÇ + ¬ΩO‚ÇÇ ‚Üí H‚ÇÇO  ŒîH‚ÇÉ = -285.8 kJ</p>
                    <p>Calculate net ŒîH for complete combustion. Report magnitude in kJ.</p>
                    <input type="number" id="entry2-hess" placeholder="Net ŒîH (kJ)" step="0.1">
                    <button onclick="checkEntry2Hess()">Check</button>
                    <div id="entry2-hess-result"></div>
                </div>
                
                <div class="conversation-entry gruet hidden" id="conv2">
                    <p><strong>Gruet ‚Üí Radan:</strong> "CAN FUND YOU"</p>
                    <p><strong>Radan ‚Üí Gruet:</strong> "THEY WATCH ME"</p>
                    <p style="color: #999; margin-top: 10px;">Context: Gruet offers financial backing. Radan reveals he's under surveillance by LiFe zealots.</p>
                </div>
                
                <h3>Entry 3 - September 11, 2024</h3>
                <div class="calculation-box">
                    <h4>Patent Formulation - Storage Matrix (K.G.)</h4>
                    <p><strong>IMPORTANT:</strong> Patent requires SPECIFIC MASS RATIOS</p>
                    <p>Sample: 3.54 g Co mixed with 2.36 g In</p>
                    <p>Co: 58.93 g/mol, In: 114.82 g/mol</p>
                    <p>Calculate: a) Moles of each metal  b) Mass percentage of each metal</p>
                    <input type="number" id="co-mol" placeholder="Moles Co" step="0.0001">
                    <input type="number" id="in-mol" placeholder="Moles In" step="0.0001">
                    <button onclick="checkCoIn()">Check Moles</button>
                    <div id="coin-result"></div>
                    <div class="warning hidden" id="coin-ratio">
                        <p><strong>Note the 60:40 Mass Ratio!</strong> This is CoIn's signature - appears in all documents</p>
                    </div>
                </div>
                
                <div class="conversation-entry gruet hidden" id="conv3">
                    <p><strong>Gruet ‚Üí Radan:</strong> "SIXTY FORTY SPLIT"</p>
                    <p><strong>Radan ‚Üí Gruet:</strong> "MUST HIDE WORK"</p>
                    <p style="color: #999; margin-top: 10px;">Context: Gruet proposes the profit split (60% Radan, 40% CoIn). Radan agrees he needs to secure his research.</p>
                </div>
                
                <h3>Entry 4 - September 12, 2024</h3>
                <div class="calculation-box">
                    <h4>Yield Optimization (K.G.)</h4>
                    <p>Enhanced extraction protocol:</p>
                    <p>Starting material: 8.43 g organic precursor (MW = 281 g/mol)</p>
                    <input type="number" id="entry4-mol" placeholder="Moles precursor" step="0.0001">
                    <button onclick="checkEntry4Mol()">Check</button>
                    <div id="entry4-mol-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Multi-step Energy Analysis (D.K.R.)</h4>
                    <p>Three-stage process:</p>
                    <p>1. Heating 150 g water from 22¬∞C to 85¬∞C</p>
                    <p>2. Phase change: vaporize 25.0 g water (ŒîHvap = 40.66 kJ/mol)</p>
                    <p>3. Combustion of 0.750 g C‚ÇÜH‚ÇÜ (ŒîHcomb = -3267 kJ/mol, MW = 78.11 g/mol)</p>
                    <p>Calculate total energy change (report magnitude in kJ).</p>
                    <input type="number" id="entry4-energy" placeholder="Total energy (kJ)" step="0.1">
                    <button onclick="checkEntry4Energy()">Check</button>
                    <div id="entry4-energy-result"></div>
                </div>
                
                <div class="conversation-entry gruet hidden" id="conv4">
                    <p><strong>Gruet ‚Üí Radan:</strong> "BRING FORMULA"</p>
                    <p><strong>Radan ‚Üí Gruet:</strong> "ZEALOTS CLOSE"</p>
                    <p style="color: #999; margin-top: 10px;">Context: Gruet wants the formula transferred. Radan warns that LiFe extremists are nearby.</p>
                </div>
                
                <h3>Entry 5 - September 13, 2024</h3>
                <div class="calculation-box">
                    <h4>Contract Specifications (K.G.)</h4>
                    <p>Final product requirements:</p>
                    <p>12.67 g sample contains active compound (MW = 423 g/mol)</p>
                    <input type="number" id="entry5-mol" placeholder="Moles compound" step="0.0001">
                    <button onclick="checkEntry5Mol()">Check</button>
                    <div id="entry5-mol-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Thermal Stability Test (D.K.R.)</h4>
                    <p>Decomposition prevention analysis:</p>
                    <p>Sample in bomb calorimeter shows:</p>
                    <p>- Heat capacity: 4.82 kJ/¬∞C</p>
                    <p>- Temperature rise: 2.45¬∞C</p>
                    <input type="number" id="entry5-heat" placeholder="Heat released (kJ)" step="0.01">
                    <button onclick="checkEntry5Heat()">Check</button>
                    <div id="entry5-heat-result"></div>
                </div>
                
                <div class="conversation-entry gruet hidden" id="conv5">
                    <p><strong>Gruet ‚Üí Radan:</strong> "CONTRACT READY"</p>
                    <p><strong>Radan ‚Üí Gruet:</strong> "THEY KNOW"</p>
                    <p style="color: #999; margin-top: 10px;">Context: CoIn has legal documents prepared. Radan realizes the zealots know about his work.</p>
                </div>
                
                <h3>Entry 6 - September 14, 2024 (Day Before Death)</h3>
                <div class="calculation-box">
                    <h4>URGENT - Transport Protocol (K.G.)</h4>
                    <p>Immediate transfer required:</p>
                    <p>3.92 g priority sample (MW = 392 g/mol)</p>
                    <input type="number" id="entry6-mol" placeholder="Moles for transport" step="0.0001">
                    <button onclick="checkEntry6Mol()">Check</button>
                    <div id="entry6-mol-result"></div>
                </div>
                
                <div class="calculation-box">
                    <h4>Final Measurement (D.K.R.)</h4>
                    <p>Bomb calorimeter - last reading:</p>
                    <p>- Calorimeter heat capacity: 5.73 kJ/¬∞C</p>
                    <p>- Temperature rise: 3.24¬∞C</p>
                    <p>- Water present: 775 g (also rises 3.24¬∞C)</p>
                    <p>Calculate total heat released (kJ).</p>
                    <input type="number" id="entry6-heat" placeholder="Total heat (kJ)" step="0.01">
                    <button onclick="checkEntry6Heat()">Check</button>
                    <div id="entry6-heat-result"></div>
                </div>
                
                <div class="conversation-entry radan">
                    <p><strong>Gruet ‚Üí Radan:</strong> "c**e *o*"</p>
                    <p><strong>Radan ‚Üí Gruet:</strong> "*o* *at*"</p>
                    <p style="color: #ff6b6b; margin-top: 10px;">Context: Final exchange. Gruet urgently summons him to safety. Radan knows he won't make it.</p>
                </div>
                
                <div class="warning" style="margin-top: 20px;">
                    <p>[End of notebook. No entries after September 14. D.K. Radan found deceased September 15, 2024]</p>
                    <p>Evidence Tag: FCC-2024-1847</p>
                    <p>Status: Key evidence in ongoing investigation</p>
                </div>
                
                <button class="reveal-button" onclick="revealAllConversations()">Reveal All Decoded Messages</button>
                <div id="all-conversations" class="hidden">
                    <h3>Complete Decoded Conversation Timeline</h3>
                    <div class="result">
                        <p><strong>Your Investigation Notes:</strong></p>
                        <p>Use the decoded messages to answer these questions:</p>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>What was CoIn offering Radan? Was it a threat or assistance?</li>
                            <li>Who was watching/threatening Radan according to the messages?</li>
                            <li>What is the significance of the 60:40 ratio appearing in both the conversation and the Co-In mass ratio?</li>
                            <li>Based on Radan's final message "TOO LATE", did he make it to CoIn's facility?</li>
                            <li>If CoIn was trying to help Radan escape, what does this suggest about their role in his death?</li>
                        </ol>
                    </div>
                    <div class="final-comparison" style="margin-top: 20px;">
                        <h3>Draw Your Conclusions</h3>
                        <div class="warning">
                            <p><strong>Based on all three evidence caches, determine:</strong></p>
                            <ul style="margin-left: 20px; margin-top: 10px;">
                                <li>Is CoIn guilty of intellectual property theft? (Consider the thermochemical signatures)</li>
                                <li>Is CoIn guilty of murder? (Consider the timeline and messages)</li>
                                <li>Who else might be responsible? (Consider who was "watching" Radan)</li>
                                <li>What was CoIn's actual relationship with Radan? (Business partners? Exploiters? Protectors?)</li>
                            </ul>
                            <p style="margin-top: 15px;"><strong>Write your final verdict:</strong> What crimes is CoIn House guilty of? What are they innocent of? Who is the likely murderer?</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.evidence-content');
            const buttons = document.querySelectorAll('.tab-button');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        // Patent calculations
        function checkPatentA() {
            const answer = parseFloat(document.getElementById('patent-a').value);
            const correct = 127.8;
            const result = document.getElementById('patent-a-result');
            if (Math.abs(answer - correct) < 0.1) {
                result.innerHTML = '<div class="result">‚úì Correct! 0.125 mol √ó 1022.4 kJ/mol = 127.8 kJ</div>';
            } else {
                result.innerHTML = '<div class="warning">Try again. Remember: moles √ó ŒîH</div>';
            }
        }
        
        function checkPatentB() {
            const answer = parseFloat(document.getElementById('patent-b').value);
            const correct = 89.4;
            const result = document.getElementById('patent-b-result');
            if (Math.abs(answer - correct) < 0.1) {
                result.innerHTML = '<div class="result">‚úì Correct! 0.450 mol √ó 198.7 kJ/mol = 89.4 kJ</div>';
            } else {
                result.innerHTML = '<div class="warning">Try again.</div>';
            }
        }
        
        function checkPatentC() {
            const answer = parseFloat(document.getElementById('patent-c').value);
            const correct = 215.3;
            const result = document.getElementById('patent-c-result');
            if (Math.abs(answer - correct) < 0.1) {
                result.innerHTML = '<div class="result">‚úì Correct! 0.1600 mol reactant √ó (2691.3 kJ / 2 mol) = 215.3 kJ</div>';
            } else {
                result.innerHTML = '<div class="warning">Remember: 2 mol reactant makes 1 mol product!</div>';
            }
        }
        
        // Radan calculations
        function checkRadan1() {
            const answer = parseFloat(document.getElementById('radan-1').value);
            const correct = -432.5;
            const result = document.getElementById('radan-1-result');
            if (Math.abs(answer - (-432.5)) < 0.1) {
                result.innerHTML = '<div class="result">‚úì Correct! 0.0750 mol √ó (-5766.7 kJ/mol) = -432.5 kJ</div>';
            } else {
                result.innerHTML = '<div class="warning">Don\'t forget the negative sign!</div>';
            }
        }
        
        function checkRadan2() {
            const answer = parseFloat(document.getElementById('radan-2').value);
            const correct = 298.7;
            const result = document.getElementById('radan-2-result');
            if (Math.abs(answer - correct) < 0.1) {
                result.innerHTML = '<div class="result">‚úì Correct! 0.340 mol √ó 878.5 kJ/mol = +298.7 kJ</div>';
            } else {
                result.innerHTML = '<div class="warning">This is endothermic (positive)!</div>';
            }
        }
        
        function checkRadan3() {
            const answer = parseFloat(document.getElementById('radan-3').value);
            const correct = -298.7;
            const result = document.getElementById('radan-3-result');
            if (Math.abs(answer - (-298.7)) < 0.1) {
                result.innerHTML = '<div class="result">‚úì Correct! 0.185 mol √ó (-1614.6 kJ/mol) = -298.7 kJ</div>';
            } else {
                result.innerHTML = '<div class="warning">Try again.</div>';
            }
        }
        
        function checkPatentTotal() {
            const answer = parseFloat(document.getElementById('patent-total').value);
            const correct = 432.5;
            if (Math.abs(answer - correct) < 0.5) {
                document.getElementById('patent-total-result').innerHTML = '<div class="result">‚úì Recorded: ~432.5 kJ</div>';
            }
        }
        
        function checkRadanTotal() {
            const answer = parseFloat(document.getElementById('radan-total').value);
            const correct = -432.5;
            if (Math.abs(answer - correct) < 0.5) {
                document.getElementById('radan-total-result').innerHTML = '<div class="result">‚úì Recorded: ~-432.5 kJ (consider the magnitude)</div>';
            }
        }
        
        // Cipher quiz checks
        function checkQ1() {
            const answer = parseFloat(document.getElementById('q1-answer').value);
            const correct = 1.14;
            const result = document.getElementById('q1-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct! 1.14 kJ</div>';
                document.getElementById('q1-mapping').classList.remove('hidden');
            } else {
                result.innerHTML = '<div class="warning">Hint: q = mcŒîT</div>';
            }
        }
        
        function checkQ2() {
            const answer = parseFloat(document.getElementById('q2-answer').value);
            const correct = 0.61;
            const result = document.getElementById('q2-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct! 0.61 kJ (Note: Should be 2.15 based on document)</div>';
                document.getElementById('q2-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ3() {
            const answer = parseFloat(document.getElementById('q3-answer').value);
            const correct = 44.5;
            const result = document.getElementById('q3-result');
            if (Math.abs(answer - correct) < 0.1) {
                result.innerHTML = '<div class="result">‚úì Correct! (Note: Document says 3.16)</div>';
                document.getElementById('q3-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ4() {
            const answer = parseFloat(document.getElementById('q4-answer').value);
            const correct = 1.67;
            const result = document.getElementById('q4-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q4-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ5() {
            const answer = parseFloat(document.getElementById('q5-answer').value);
            const correct = 5.16;
            const result = document.getElementById('q5-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q5-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ6() {
            const answer = parseFloat(document.getElementById('q6-answer').value);
            const correct = 6.18;
            const result = document.getElementById('q6-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q6-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ7() {
            const answer = parseFloat(document.getElementById('q7-answer').value);
            const correct = 7.01;
            const result = document.getElementById('q7-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q7-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ8() {
            const answer = parseFloat(document.getElementById('q8-answer').value);
            const correct = 8.20;
            const result = document.getElementById('q8-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q8-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ9() {
            const answer = parseFloat(document.getElementById('q9-answer').value);
            const correct = 8.79;
            const result = document.getElementById('q9-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q9-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ10() {
            const answer = parseFloat(document.getElementById('q10-answer').value);
            const correct = 10.37;
            const result = document.getElementById('q10-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q10-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ11() {
            const answer = parseFloat(document.getElementById('q11-answer').value);
            const correct = 10.00;
            const result = document.getElementById('q11-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q11-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ12() {
            const answer = parseFloat(document.getElementById('q12-answer').value);
            const correct = 12.25;
            const result = document.getElementById('q12-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q12-mapping').classList.remove('hidden');
            }
        }
        
        function checkQ13() {
            const answer = parseFloat(document.getElementById('q13-answer').value);
            const correct = 13.26;
            const result = document.getElementById('q13-result');
            if (Math.abs(answer - correct) < 0.01) {
                result.innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('q13-mapping').classList.remove('hidden');
            }
        }
        
        function showInstructions() {
            document.getElementById('cipher-instructions').classList.remove('hidden');
        }
        
        // Notebook checks
        function checkEntry1Mol() {
            const answer = parseFloat(document.getElementById('entry1-mol').value);
            const correct = 0.533;
            if (Math.abs(answer - correct) < 0.001) {
                document.getElementById('entry1-mol-result').innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('conv1').classList.remove('hidden');
            } else {
                document.getElementById('entry1-mol-result').innerHTML = '<div class="warning">Check your calculation</div>';
            }
        }
        
        function checkEntry1Heat() {
            const answer = parseFloat(document.getElementById('entry1-heat').value);
            const correct = 6.15;
            if (Math.abs(answer - correct) < 0.01) {
                document.getElementById('entry1-heat-result').innerHTML = '<div class="result">‚úì Correct!</div>';
            } else {
                document.getElementById('entry1-heat-result').innerHTML = '<div class="warning">Remember: q = mcŒîT</div>';
            }
        }
        
        function checkEntry2Mol() {
            const answer = parseFloat(document.getElementById('entry2-mol').value);
            const correct = 0.0400;
            if (Math.abs(answer - correct) < 0.0001) {
                document.getElementById('entry2-mol-result').innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('conv2').classList.remove('hidden');
            } else {
                document.getElementById('entry2-mol-result').innerHTML = '<div class="warning">Check your calculation</div>';
            }
        }
        
        function checkEntry2Hess() {
            const answer = parseFloat(document.getElementById('entry2-hess').value);
            const correct = 398.9;
            if (Math.abs(answer - correct) < 0.5) {
                document.getElementById('entry2-hess-result').innerHTML = '<div class="result">‚úì Correct!</div>';
            } else {
                document.getElementById('entry2-hess-result').innerHTML = '<div class="warning">Add all ŒîH values</div>';
            }
        }
        
        function checkCoIn() {
            const coMol = parseFloat(document.getElementById('co-mol').value);
            const inMol = parseFloat(document.getElementById('in-mol').value);
            if (Math.abs(coMol - 0.0600) < 0.0001 && Math.abs(inMol - 0.0206) < 0.0001) {
                document.getElementById('coin-result').innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('coin-ratio').classList.remove('hidden');
                document.getElementById('conv3').classList.remove('hidden');
            } else {
                document.getElementById('coin-result').innerHTML = '<div class="warning">Check your mole calculations</div>';
            }
        }
        
        function checkEntry4Mol() {
            const answer = parseFloat(document.getElementById('entry4-mol').value);
            const correct = 0.0300;
            if (Math.abs(answer - correct) < 0.0001) {
                document.getElementById('entry4-mol-result').innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('conv4').classList.remove('hidden');
            } else {
                document.getElementById('entry4-mol-result').innerHTML = '<div class="warning">Check your calculation</div>';
            }
        }
        
        function checkEntry4Energy() {
            const answer = parseFloat(document.getElementById('entry4-energy').value);
            const correct = 31.4;
            if (Math.abs(answer - correct) < 0.5) {
                document.getElementById('entry4-energy-result').innerHTML = '<div class="result">‚úì Correct!</div>';
            } else {
                document.getElementById('entry4-energy-result').innerHTML = '<div class="warning">Add all three energy changes</div>';
            }
        }
        
        function checkEntry5Mol() {
            const answer = parseFloat(document.getElementById('entry5-mol').value);
            const correct = 0.0300;
            if (Math.abs(answer - correct) < 0.0001) {
                document.getElementById('entry5-mol-result').innerHTML = '<div class="result">‚úì Correct!</div>';
                document.getElementById('conv5').classList.remove('hidden');
            } else {
                document.getElementById('entry5-mol-result').innerHTML = '<div class="warning">Check your calculation</div>';
            }
        }
        
        function checkEntry5Heat() {
            const answer = parseFloat(document.getElementById('entry5-heat').value);
            const correct = 11.81;
            if (Math.abs(answer - correct) < 0.01) {
                document.getElementById('entry5-heat-result').innerHTML = '<div class="result">‚úì Correct!</div>';
            } else {
                document.getElementById('entry5-heat-result').innerHTML = '<div class="warning">q = C √ó ŒîT</div>';
            }
        }
        
        function checkEntry6Mol() {
            const answer = parseFloat(document.getElementById('entry6-mol').value);
            const correct = 0.0100;
            if (Math.abs(answer - correct) < 0.0001) {
                document.getElementById('entry6-mol-result').innerHTML = '<div class="result">‚úì Correct!</div>';
            } else {
                document.getElementById('entry6-mol-result').innerHTML = '<div class="warning">Check your calculation</div>';
            }
        }
        
        function checkEntry6Heat() {
            const answer = parseFloat(document.getElementById('entry6-heat').value);
            const correct = 29.10;
            if (Math.abs(answer - correct) < 0.1) {
                document.getElementById('entry6-heat-result').innerHTML = '<div class="result">‚úì Correct!</div>';
            } else {
                document.getElementById('entry6-heat-result').innerHTML = '<div class="warning">Add calorimeter and water heat</div>';
            }
        }
        
        function showAllMappings() {
            document.getElementById('all-mappings').classList.remove('hidden');
        }
        
        function revealAllConversations() {
            document.querySelectorAll('.conversation-entry').forEach(el => {
                el.classList.remove('hidden');
            });
            document.getElementById('all-conversations').classList.remove('hidden');
        }
    </script>
</body>
</html>
